require(dplyr)
require(pubmed.mineR)
require(RISmed)
require(quanteda)
require(bibliometrix)
require(ggplot2)
require(quanteda.textmodels)
require(tidyverse)  
library(pubmed.mineR)
library(pubmedR)

query = "cost AND DALY[Title/Abstract]"
api_key = "adb7c4029ba414a3108f116d2f609e4aae08" 


q <- pmQueryTotalCount(query)
D <- pubmedR::pmApiRequest(q = query, api_key = api_key, limit = q$total_count)
metadata <- pubmedR::pmApi2df(D, format = "bibliometrix")

dataset1 <- metadata %>%
  filter(PY %in% c(2010:2021)) %>%
  termExtraction("AB") %>%
  termExtraction("TI") %>%
  termExtraction("DE")
dataset1$AU1_CO<- dataset1$SO_CO
